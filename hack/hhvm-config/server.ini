; HHVM Configuration for Snapify Hack Services
; Optimized for type-safe API services and microservices architecture

hhvm.server.port = 8080
hhvm.server.type = proxygen
hhvm.server.default_document = index.php
hhvm.server.source_root = /var/www/snapify/hack

; Type checking and strict mode
hhvm.hack.lang.look_for_typechecker = true
hhvm.hack.lang.typechecker_options.use_manifold = true
hhvm.hack.lang.check_int_overflow = true

; Performance optimizations
hhvm.jit = true
hhvm.jit_enable_rename_function = true
hhvm.jit_pseudomain = true
hhvm.jit_require_writeable_source = false

; Memory management
hhvm.server.memory_limit = 256M
hhvm.server.request_timeout_seconds = 60
hhvm.server.max_post_size = 100M

; Logging
hhvm.log.level = Warning
hhvm.log.file = /var/log/hhvm/error.log
hhvm.log.access.file = /var/log/hhvm/access.log

; Extensions
hhvm.extensions[] = json
hhvm.extensions[] = curl
hhvm.extensions[] = pdo
hhvm.extensions[] = pdo_sqlite

; Hack specific settings
hhvm.hack.lang.autocomplete_mode = true
hhvm.hack.lang.enable_deprecated_features = false
hhvm.hack.lang.enable_xhp = false

; Security
hhvm.server.allow_run_as_root = false
hhvm.server.expose_php = false

; Development settings (adjust for production)
hhvm.debugger.enable_debugger = false
hhvm.debugger.enable_debugger_server = false
hhvm.debugger.default_port = 8089

; Static content serving
hhvm.server.static_content_cache = true
hhvm.server.static_content_cache_size = 64M

; Connection settings
hhvm.server.connection_limit = 1000
hhvm.server.thread_count = 50