import{B as a,j as e}from"./index-CC3WzsEc.js";import{R as f}from"./libs-CBAR_Xud.js";import"./vendor-BSeQcPOp.js";import"./auth-BXl3LOEh.js";import"./utils-D9li4S3w.js";const{useState:i}=f,w=({isOpen:p,onClose:r,currentUser:c,t:s})=>{const[l,b]=i(""),[o,d]=i(!1),[x,n]=i(""),h=async()=>{if(c){d(!0),n("");try{const t=a.getBetaConfig();if(t.betaAccessCode&&l!==t.betaAccessCode){n(s("invalidAccessCode")||"Invalid access code");return}a.grantBetaAccess(c.id);const j={...c,betaAccess:!0,betaAccessGrantedAt:new Date().toISOString(),betaVersion:a.getCurrentVersion(),betaFeatures:a.getEnabledFeatures(c).map(g=>g.id)};alert(s("betaAccessGranted")||"Beta access granted! Welcome to the beta program."),r()}catch(t){console.error("Failed to grant beta access:",t),n(s("betaAccessError")||"Failed to grant beta access. Please try again.")}finally{d(!1)}}};if(!p)return null;const m=a.hasBetaAccess(c),u=a.getBetaConfig();return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:m?s("betaAccess")||"Beta Access":s("requestBetaAccess")||"Request Beta Access"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),m?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl text-green-600",children:"✓"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s("betaAccessGranted")||"Beta Access Granted!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:s("betaWelcomeMessage")||"Welcome to the SnapifY beta program. You now have access to the latest features and can provide feedback to help us improve."}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 mb-6",children:[e.jsxs("h4",{className:"font-medium text-purple-900 mb-2",children:[s("yourBetaFeatures")||"Your Beta Features",":"]}),e.jsx("ul",{className:"text-sm text-purple-800 space-y-1",children:a.getEnabledFeatures(c).map(t=>e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),t.name]},t.id))})]}),e.jsx("button",{onClick:r,className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:s("getStarted")||"Get Started"})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl text-purple-600",children:"β"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s("joinBetaProgram")||"Join the Beta Program"}),e.jsx("p",{className:"text-gray-600",children:s("betaDescription")||"Get early access to new features, provide feedback, and help shape the future of SnapifY."})]}),u.betaAccessCode&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("accessCode")||"Access Code"}),e.jsx("input",{type:"text",value:l,onChange:t=>b(t.target.value),placeholder:s("enterAccessCode")||"Enter beta access code",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),x&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:x})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[e.jsxs("h4",{className:"font-medium text-blue-900 mb-2",children:[s("betaBenefits")||"Beta Benefits",":"]}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("earlyAccess")||"Early access to new features"]}),e.jsxs("li",{children:["• ",s("provideFeedback")||"Provide feedback to improve the app"]}),e.jsxs("li",{children:["• ",s("exclusiveFeatures")||"Access to exclusive beta features"]}),e.jsxs("li",{children:["• ",s("helpShape")||"Help shape the future of SnapifY"]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:s("maybeLater")||"Maybe Later"}),e.jsx("button",{onClick:h,disabled:o||(u.betaAccessCode?!l:!1),className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?s("requesting")||"Requesting...":s("requestAccess")||"Request Access"})]})]})]})})})};export{w as BetaAccessModal};
