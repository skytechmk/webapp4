import{B as n,j as e}from"./index-CC3WzsEc.js";import{R as v}from"./libs-CBAR_Xud.js";import"./vendor-BSeQcPOp.js";import"./auth-BXl3LOEh.js";import"./utils-D9li4S3w.js";const{useState:r}=v,S=({isOpen:h,onClose:s,currentUser:l,t})=>{const[o,i]=r(5),[c,d]=r(""),[u,m]=r("general"),[x,b]=r(""),[g,p]=r(!1),f=async a=>{if(a.preventDefault(),!!l){p(!0);try{n.submitBetaFeedback(l.id,{rating:o,comments:c,feature:x,category:u}),i(5),d(""),m("general"),b(""),alert(t("betaFeedbackSubmitted")||"Thank you for your feedback!"),s()}catch(j){console.error("Failed to submit beta feedback:",j),alert("Failed to submit feedback. Please try again.")}finally{p(!1)}}};if(!h)return null;const y=n.getEnabledFeatures(l);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t("betaFeedback")||"Beta Feedback"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t("rating")||"Rating"," (1-5)"]}),e.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(a=>e.jsx("button",{type:"button",onClick:()=>i(a),className:`text-2xl ${a<=o?"text-yellow-400":"text-gray-300"} hover:text-yellow-400 transition-colors`,children:"★"},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("category")||"Category"}),e.jsxs("select",{value:u,onChange:a=>m(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"general",children:t("general")||"General"}),e.jsx("option",{value:"bug",children:t("bug")||"Bug Report"}),e.jsx("option",{value:"feature-request",children:t("featureRequest")||"Feature Request"}),e.jsx("option",{value:"improvement",children:t("improvement")||"Improvement"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t("feature")||"Related Feature"," (",t("optional")||"Optional",")"]}),e.jsxs("select",{value:x,onChange:a=>b(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:t("selectFeature")||"Select a feature..."}),y.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("comments")||"Comments"}),e.jsx("textarea",{value:c,onChange:a=>d(a.target.value),placeholder:t("shareThoughts")||"Share your thoughts...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",rows:4,required:!0})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:t("cancel")||"Cancel"}),e.jsx("button",{type:"submit",disabled:g,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?t("submitting")||"Submitting...":t("submit")||"Submit"})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[t("betaVersion")||"Beta Version",": ",n.getCurrentVersion()]})})]})})})};export{S as BetaFeedbackModal};
